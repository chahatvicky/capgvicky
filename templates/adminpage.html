<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C.R.E.A.T.E - E2E Automation</title>
    <!-- Paths updated -->
    <link rel="icon" href="{{ url_for('static', filename='images/capg.png') }}" type="image/png">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- adding webpage function -->
    <script src="{{ url_for('static', filename='js/form-webpage-function.js') }}"></script>
</head>
<body class="formpage blue-theme">
    <div id="particles-js"></div>
    <header class="app-header sticky-header small-header">
        <div class="header-container">
            <a href="{{ url_for('index') }}" class="back-link"><i class="fas fa-arrow-left"></i> Platform Overview</a>
            <div class="form-header-title">
                <i class="fas fa-robot header-avatar small animated-avatar"></i>
                <span>Create New Enhancement</span>
            </div>
            <!-- Theme Toggle Switch -->
            <div class="theme-switch-wrapper">
                <i class="fas fa-sun theme-icon light-icon"></i>
                <label class="theme-switch" for="theme-checkbox">
                    <input type="checkbox" id="theme-checkbox" />
                    <div class="slider round"></div>
                </label>
                <i class="fas fa-moon theme-icon dark-icon"></i>
            </div>
            <!-- CREATE Button Removed -->
        </div>
    </header>
    <main class="form-page-content">
        <div class="container form-container">
            <h1>Welcome Admin!</h1>
            <form id="enhc_id" method="POST" enctype="multipart/form-data">
                <fieldset>
                    <div class="form-group">
                        <!-- Updated Label -->
                        <div class="form-group half-width">
                            <label for="enhc_id">Enter Enhancement Number:</label>
                            <textarea id="enhc_id" name="demand_id" rows="1" required></textarea>
                        </div>
                        <!-- <div class="form-group half-width">
                            <label for="enhc_id">Scripting Language:</label>
                            <select id="enhc_id" name="demand_id" required>
                                <option value="" disabled selected>-- Select --</option>
                                <option value="Python">Python</option>
                                <option value="PowerShell">PowerShell</option>
                                <option value="BASH/Shell">BASH/Shell</option>
                                <option value="Ansible">Ansible</option>
                            </select>
                        </div> -->
                    </div>
                </fieldset>
                <fieldset class="upload-section">
                    <i class="fas fa-file-upload"></i> FSD Document Upload
                    <legend></legend>
                    <div class="form-group file-upload-group">
                        <label for="fsd_file" class="file-upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Select FSD Document (.xlsx)</span>
                        </label>
                        <input type="file" id="fsd_file" name="fsd_file" accept=".xlsx" required>
                        <span id="file-name-display">No file selected</span>
                    </div>
                </fieldset>
                <div id="status-message" role="alert"></div>
                <button type="submit" id="submit-button" class="submit-button large-button">
                    <span><i class="fas fa-paper-plane"></i> Submit Request</span>
                    <div class="button-loader"></div>
                </button>
            </form>
        </div>
    </main>
    <footer class="app-footer">
        <div class="footer-container">
            <div class="footer-logo">
                <i class="fas fa-cogs logo-icon"></i> C.R.E.A.T.E
            </div>
            <div class="footer-copy">
                &copy; 2025 CREATE Team. All rights reserved.
            </div>
        </div>
    </footer>
    <!-- Scripts at the end, paths updated -->
    <script src="{{ url_for('static', filename='js/particles-config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script-theme.js') }}"></script>
    <script src="{{ url_for('static', filename='js/adminpage-form-script.js') }}"></script>
	<script>
        document.addEventListener('DOMContentLoaded', () => {
            const fileInput = document.getElementById('fsd_file');
            const fileNameDisplay = document.getElementById('file-name-display');

            if (fileInput && fileNameDisplay) {
                fileInput.addEventListener('change', () => {
                    if (fileInput.files.length > 0) {
                        const selectedFileName = fileInput.files[0].name;
                        fileNameDisplay.textContent = `File Is Selected: ${selectedFileName}`; // <- Updated line
                    } else {
                        fileNameDisplay.textContent = 'No file selected';
                    }
                });
            }
        });
    </script>
</body>
</html>
